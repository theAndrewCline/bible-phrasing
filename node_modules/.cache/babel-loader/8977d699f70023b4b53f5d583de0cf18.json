{"ast":null,"code":"export var parsePassages = function parsePassages(unparsedPassages) {\n  return unparsedPassages[0].split('[');\n};\nexport var fetchPassage = function fetchPassage(passageQuery) {\n  var API_KEY = process.env.REACT_APP_ESV_API_TOKEN;\n  var URL = \"https://api.esv.org/v3/passage/text/?q=\".concat(passageQuery, \"&include-footnotes=False&include-headings=False&include-passage-references=False&include-short-copyright=False\");\n  return fetch(URL, {\n    headers: {\n      Authorization: 'Token ' + API_KEY\n    }\n  }).then(function (response) {\n    return response.json();\n  }).then(function (json) {\n    return {\n      passages: parsePassages(json.passages),\n      title: json.canonical\n    };\n  });\n};","map":{"version":3,"sources":["/Users/andrew/Personal Projects/Active/bible-phrasing/src/js/actions/actions.ts"],"names":["parsePassages","unparsedPassages","split","fetchPassage","passageQuery","API_KEY","process","env","REACT_APP_ESV_API_TOKEN","URL","fetch","headers","Authorization","then","response","json","passages","title","canonical"],"mappings":"AAGA,OAAO,IAAMA,aAAa,GAAG,SAAhBA,aAAgB,CAACC,gBAAD,EAAgD;AACzE,SAAOA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBC,KAApB,CAA0B,GAA1B,CAAP;AACH,CAFM;AAIP,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,YAAD,EAAwC;AAChE,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,CAAYC,uBAA5B;AACA,MAAMC,GAAW,oDAA6CL,YAA7C,mHAAjB;AAEA,SAAOM,KAAK,CAACD,GAAD,EAAM;AACdE,IAAAA,OAAO,EAAE;AACLC,MAAAA,aAAa,EAAE,WAAWP;AADrB;AADK,GAAN,CAAL,CAKFQ,IALE,CAKG,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GALX,EAMFF,IANE,CAMG,UAAAE,IAAI;AAAA,WAAK;AAAEC,MAAAA,QAAQ,EAAEhB,aAAa,CAACe,IAAI,CAACC,QAAN,CAAzB;AAA0CC,MAAAA,KAAK,EAAEF,IAAI,CAACG;AAAtD,KAAL;AAAA,GANP,CAAP;AAOH,CAXM","sourcesContent":["import * as types from './actionTypes'\nimport { Passages } from '../../defintions/App';\n\nexport const parsePassages = (unparsedPassages: Array<string>) : Passages => {\n    return unparsedPassages[0].split('[')\n}\n\nexport const fetchPassage = (passageQuery: string): Promise<any> => {\n    const API_KEY = process.env.REACT_APP_ESV_API_TOKEN\n    const URL: string = `https://api.esv.org/v3/passage/text/?q=${passageQuery}&include-footnotes=False&include-headings=False&include-passage-references=False&include-short-copyright=False`\n\n    return fetch(URL, {\n        headers: {\n            Authorization: 'Token ' + API_KEY,\n        }\n    })\n        .then(response => response.json())\n        .then(json => ({ passages: parsePassages(json.passages), title: json.canonical }))\n}\n"]},"metadata":{},"sourceType":"module"}